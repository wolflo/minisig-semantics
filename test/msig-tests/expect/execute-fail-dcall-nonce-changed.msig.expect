// TODO: how to test nonce changing during call?
